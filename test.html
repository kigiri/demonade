<!DOCTYPE html>
<html>
<head>
  <title>Demonade Tests</title>
  <meta charset="utf-8">
</head>
<body>
  <div id="root"></div>
<script type="module">
import {
  createElement,
// } from '//unpkg.com/demonade' // for remote testing
} from './index.js' // for local testing

// HELPERS
const has = (a, b) => Object.entries(b).every(([k, v]) => a[k] === v)


// createElement
// createElement - create div
const divA = createElement('div')
console.assert(has(divA, { tagName: 'DIV' }), {
  elem: divA,
  message: 'tagName should be `DIV`',
})

// createElement - create div with props
const simpleProps = { id: 'div-b', className: 'a b'}
const divB = createElement('div', simpleProps)
console.assert(has(divB, { tagName: 'DIV', ...simpleProps }), {
  elem: divB,
  message: 'should contains simple props',
  props: simpleProps,
})

// createElement - create div with nested props (style)
// createElement - create div with child
// createElement - create div with children
// createElement - create div with props and child
// createElement - create div with props and children

// h
// h - bind createElement to the proper tag
// h - not re-create a function

// isObject
// isObject - false if not object
// isObject - true if object with proto
// isObject - true if object without proto

// toId
// toId - sould add .
// toId - sould [] and escape

// append
// append - handle element
// append - handle string
// append - handle array
// append - ignore boolean / function

// setText
// setText - replace text of a node

// empty
// empty - remove all the child of a node

// replace
// replace - replace a the children of an node

// initState
// initState - create initial state data structure
// initState - get value from the state
// initState - set value to the state
// initState - make a derived value

// map
// map - map a state value

// PATH
// PATH - verify a path variable

// values - access a value from PATH

// subscribers
// subscribers - add a custom event

// readers
// readers - add a custom event

// onDismount
// onDismount + createElement - create div with ondismount prop
// onDismount - add a custom event

// watch
// watch - watching an object reflect it's structure in the state
// watch - watching an object reflect it's structure in the state (deep)
// watch - on any changes propers ref are added to the state

// persist
// persist - copy state to localStorage on changes
// persist - retrieve initial state from localStorage if possible
// persist - replace malformated existing state

</script>
</body>
</html>
